<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ScanPackage.TestCameraPage"
             Title="Test Camera - Samsung A30"
             BackgroundColor="White">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">
            
            <Label Text="ðŸ“· TEST CAMERA - SAMSUNG A30"
                   FontSize="20"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   TextColor="DarkBlue"/>

            <!-- Device Info -->
            <Frame BackgroundColor="LightBlue" Padding="15">
                <VerticalStackLayout Spacing="10">
                    <Label Text="ðŸ“± THÃ”NG TIN THIáº¾T Bá»Š"
                           FontSize="16"
                           FontAttributes="Bold"/>
                    <Label x:Name="DeviceInfoLabel"
                           Text="Äang táº£i..."
                           FontSize="14"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Permission Status -->
            <Frame BackgroundColor="LightYellow" Padding="15">
                <VerticalStackLayout Spacing="10">
                    <Label Text="ðŸ” TRáº NG THÃI QUYá»€N TRUY Cáº¬P"
                           FontSize="16"
                           FontAttributes="Bold"/>
                    <Label x:Name="PermissionStatusLabel"
                           Text="Äang kiá»ƒm tra..."
                           FontSize="14"/>
                    <Button Text="ðŸ”„ Kiá»ƒm tra láº¡i Permissions"
                            BackgroundColor="Orange"
                            TextColor="White"
                            Clicked="OnCheckPermissionsClicked"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Camera Test -->
            <Frame BackgroundColor="LightGreen" Padding="15">
                <VerticalStackLayout Spacing="15">
                    <Label Text="ðŸ“¸ TEST CHá»¤P áº¢NH"
                           FontSize="16"
                           FontAttributes="Bold"/>
                    
                    <Button Text="ðŸ“· Chá»¥p áº£nh test"
                            BackgroundColor="Green"
                            TextColor="White"
                            FontSize="16"
                            Clicked="OnCaptureTestPhotoClicked"/>

                    <!-- Photo Preview -->
                    <Frame BackgroundColor="Gray" 
                           HeightRequest="200"
                           WidthRequest="200"
                           HorizontalOptions="Center">
                        <Image x:Name="TestPhotoImage"
                               Aspect="AspectFit"
                               IsVisible="False"/>
                        <Label x:Name="TestPhotoPlaceholder"
                               Text="ðŸ“·\nChÆ°a cÃ³ áº£nh"
                               FontSize="24"
                               TextColor="White"
                               HorizontalOptions="Center"
                               VerticalOptions="Center"
                               HorizontalTextAlignment="Center"/>
                    </Frame>

                    <Label x:Name="PhotoStatusLabel"
                           Text="Nháº¥n nÃºt 'Chá»¥p áº£nh test' Ä‘á»ƒ báº¯t Ä‘áº§u"
                           FontSize="12"
                           TextColor="Gray"
                           HorizontalOptions="Center"/>
                </VerticalStackLayout>
            </Frame>

            <!-- Debug Log -->
            <Frame BackgroundColor="LightGray" Padding="15">
                <VerticalStackLayout Spacing="10">
                    <Label Text="ðŸ› DEBUG LOG"
                           FontSize="16"
                           FontAttributes="Bold"/>
                    <ScrollView HeightRequest="200">
                        <Label x:Name="DebugLogLabel"
                               Text="Debug log sáº½ hiá»ƒn thá»‹ á»Ÿ Ä‘Ã¢y..."
                               FontSize="12"
                               FontFamily="Courier"
                               BackgroundColor="Black"
                               TextColor="LimeGreen"
                               Padding="10"/>
                    </ScrollView>
                    <Button Text="ðŸ—‘ï¸ XÃ³a Log"
                            BackgroundColor="Red"
                            TextColor="White"
                            Clicked="OnClearLogClicked"/>
                </VerticalStackLayout>
            </Frame>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>